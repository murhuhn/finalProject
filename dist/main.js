(()=>{"use strict";(()=>{const e=document.querySelector(".modal-callback"),t=document.querySelector(".modal-overlay");document.addEventListener("click",(o=>{o.target.closest(".fancyboxModal")?(e.classList.add("visible"),t.classList.add("visible")):(o.target.closest(".modal-close")||o.target.closest(".modal-overlay"))&&(e.classList.remove("visible"),t.classList.remove("visible"))}))})(),(()=>{const e=document.querySelector(".up");document.addEventListener("scroll",(()=>{window.pageYOffset>650?e.style.display="block":e.style.display="none"})),e.addEventListener("click",(function(){window.pageYOffset>0&&window.scrollTo({top:0,behavior:"smooth"})}))})(),(()=>{const e=document.querySelectorAll('a[href*="#"]');for(let t of e)t.addEventListener("click",(function(e){e.preventDefault();const o=t.getAttribute("href").substr(1);document.getElementById(o).scrollIntoView({behavior:"smooth",block:"start"})}))})(),(()=>{const e=document.querySelector(".top-slider").querySelectorAll(".item");let t=0;function o(){e[t].className="item",t=(t+1)%e.length,e[t].className="item-active"}setInterval(o,3e3),o()})(),(()=>{const e=document.querySelector(".accordeon").querySelectorAll(".element");e.forEach((t=>{t.addEventListener("click",(()=>{t.classList.contains("active")?(t.classList.remove("active"),t.childNodes[3].classList.remove("active")):(e.forEach((e=>{e.classList.remove("active"),e.childNodes[3].classList.remove("active")})),t.classList.add("active"),t.childNodes[3].classList.add("active"))}))}))})(),(()=>{const e=document.querySelectorAll('[placeholder="Ваше имя"]');document.querySelectorAll('[placeholder="Телефон*"]').forEach((e=>e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^+ 0-9]+(.*)/,"").trim()})))),e.forEach((e=>e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^а-яА-я\-\s]/,"")}))))})(),(({idForm:e})=>{const t=document.getElementById(e),o=t.querySelectorAll("input"),l=document.createElement("div");try{if(!t)throw new Error("Верните, пожалуйста, форму");t.addEventListener("submit",(e=>{e.preventDefault();let s=0;o.forEach((e=>{("tel"===e.type&&""===e.value||"text"===e.type&&""===e.value||e.value.length<3)&&s++})),0===s&&(()=>{const e=t.querySelectorAll("input"),o=new FormData(t),s={};var a;l.textContent="Загрузка...",t.append(l),o.forEach(((e,t)=>{s[t]=e})),e?(a=s,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((t=>{l.textContent="Данные успешно отправлены!",e.forEach((e=>{e.value=""})),setTimeout(c,3e3)})).catch((e=>{l.textContent="Ошибка"})):alert("Данные не валидны!")})()}))}catch(e){console.log(e.message)}const c=()=>{l.textContent=""}})({idForm:"form"})})();